# FLCD Platform Testing Guide üß™\n\n## Quick Start Testing\n\n### 1. **Backend API Testing**\n\n#### **Option A: Automated Test Script**\n```bash\n# Run the automated test script\n./test-api.sh\n```\n\n#### **Option B: Manual Testing**\n\n**Start the backend server:**\n```bash\ncd flcd-backend\nnpm run dev\n```\nServer will run on: `http://localhost:3000`\n\n**Test endpoints manually:**\n\n```bash\n# 1. Health Check\ncurl http://localhost:3000/health\n\n# 2. Admin Login\ncurl -X POST http://localhost:3000/api/auth/login \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"email\":\"admin@flcd.com\",\"password\":\"admin123\"}'\n\n# 3. Get Users (replace TOKEN with actual token from login)\ncurl -X GET http://localhost:3000/api/users \\\n  -H \"Authorization: Bearer YOUR_TOKEN_HERE\"\n\n# 4. Create New User\ncurl -X POST http://localhost:3000/api/users \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"email\":\"test@example.com\",\n    \"password\":\"password123\",\n    \"firstName\":\"John\",\n    \"lastName\":\"Doe\"\n  }'\n\n# 5. Rider Registration (Send OTP)\ncurl -X POST http://localhost:3000/api/auth/register/send-otp \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"phone\":\"1234567890\",\n    \"firstName\":\"Test\",\n    \"lastName\":\"Rider\"\n  }'\n```\n\n### 2. **Frontend Testing**\n\n```bash\ncd flcd-frontend\nPORT=3001 npm run dev\n```\nFrontend will run on: `http://localhost:3001`\n\n**Available Frontend Pages:**\n- **Landing Page:** `http://localhost:3001/` - Main platform overview\n- **Login Page:** `http://localhost:3001/login` - Admin authentication (not yet implemented)\n- **Dashboard:** `http://localhost:3001/dashboard` - Admin panel (not yet implemented)\n\n## üîë **Test Credentials**\n\n### **Default Admin Account**\n- **Email:** `admin@flcd.com`\n- **Password:** `admin123`\n- **Roles:** Super Admin (all permissions)\n\n### **Database Access**\n- **Database:** `flcd_platform`\n- **Host:** `localhost:5432`\n- **User:** Your system username\n\n## üìã **Available API Endpoints**\n\n### **Authentication (`/api/auth`)**\n- `POST /login` - Admin/User login\n- `POST /register/send-otp` - Send OTP for rider registration\n- `POST /register/verify-otp` - Verify OTP and complete registration\n- `POST /refresh-token` - Refresh access token\n- `POST /forgot-password/send-otp` - Send password reset OTP\n- `POST /forgot-password/verify-reset` - Reset password with OTP\n\n### **User Management (`/api/users`)**\n- `GET /profile` - Get current user profile\n- `PUT /profile` - Update current user profile\n- `GET /` - Get all users (paginated)\n- `POST /` - Create new user\n- `PUT /:id` - Update user\n- `DELETE /:id` - Deactivate user\n- `PUT /:id/permissions` - Update user roles\n- `GET /roles` - Get available roles\n\n### **System (`/`)**\n- `GET /health` - Health check\n- `GET /` - API documentation\n\n## üèóÔ∏è **Database Testing**\n\n### **Check Database Connection**\n```bash\ncd flcd-backend\nnpx prisma studio\n```\nThis opens Prisma Studio at `http://localhost:5555`\n\n### **View Database Tables**\n```bash\npsql -d flcd_platform -c \"\\dt\"\n```\n\n### **Check Seeded Data**\n```bash\npsql -d flcd_platform -c \"SELECT * FROM users;\"\npsql -d flcd_platform -c \"SELECT * FROM roles;\"\npsql -d flcd_platform -c \"SELECT * FROM permissions;\"\n```\n\n## üîç **Testing Scenarios**\n\n### **Scenario 1: Admin Authentication Flow**\n1. Login with admin credentials\n2. Get user profile\n3. List all users\n4. Create new admin user\n5. Update user permissions\n\n### **Scenario 2: Rider Registration Flow**\n1. Send OTP to phone number\n2. Verify OTP with password\n3. Login as rider\n4. Update rider profile\n\n### **Scenario 3: User Management**\n1. Create users with different roles\n2. Test role-based permissions\n3. Deactivate users\n4. Update user roles\n\n## üìä **Expected Test Results**\n\n### **Successful Login Response:**\n```json\n{\n  \"message\": \"Login successful\",\n  \"user\": {\n    \"id\": \"user-id\",\n    \"email\": \"admin@flcd.com\",\n    \"firstName\": \"Super\",\n    \"lastName\": \"Admin\",\n    \"roles\": [\"SUPER_ADMIN\"],\n    \"permissions\": [\"users.create\", \"users.read\", ...]\n  },\n  \"accessToken\": \"jwt-token\",\n  \"refreshToken\": \"refresh-token\"\n}\n```\n\n### **Health Check Response:**\n```json\n{\n  \"status\": \"OK\",\n  \"timestamp\": \"2025-06-08T13:00:00.000Z\",\n  \"service\": \"FLCD Backend API\"\n}\n```\n\n## üö® **Troubleshooting**\n\n### **Common Issues:**\n\n1. **Port 3000 already in use:**\n   ```bash\n   lsof -ti:3000 | xargs kill -9\n   ```\n\n2. **Database connection failed:**\n   ```bash\n   # Check PostgreSQL is running\n   brew services list | grep postgresql\n   \n   # Restart if needed\n   brew services restart postgresql\n   ```\n\n3. **Permission denied errors:**\n   ```bash\n   # Check environment variables\n   cat flcd-backend/.env\n   ```\n\n4. **JWT token issues:**\n   - Make sure JWT_SECRET is set in .env\n   - Check token format in Authorization header\n\n### **Debug Mode:**\n```bash\n# Run with debug logging\nDEBUG=* npm run dev\n```\n\n## üì± **Frontend Testing (When Available)**\n\n1. **Landing Page:** `http://localhost:3000/`\n2. **Admin Login:** `http://localhost:3000/login`\n3. **Dashboard:** `http://localhost:3000/dashboard`\n\n## üéØ **Next Steps After Testing**\n\n1. **Implement Rider Management APIs**\n2. **Build Admin Dashboard UI**\n3. **Add Vehicle Management System**\n4. **Implement Real-time Features**\n5. **Add Mobile App Development**\n\n---\n\n**Need help?** Check the console logs for detailed error messages or refer to the project documentation.\n